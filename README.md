# Generate adaptive treatment artificial data
Inspired by  [dynamic treatment regime (DTR)](https://en.wikipedia.org/wiki/Dynamic_treatment_regime) or adaptive treatment strategy, the linear association (causal relationship) in the artificial data at each time slot are created, as shown by causal diagram in the following figure.

![alt text](https://github.com/ashkanfa/Generate.adaptive.data/blob/master/Causal_relation.PNG)
 
 Here, the first goal of modeling is to capture the closest to true causal features. Let 𝑋𝑂 denote covariates associated with outcome, 𝑋𝑂𝑇 predictors of both treatment and outcome as confounders, 𝑋𝑇 the predictors of exposure (treatment), and finally 𝑋𝑆 nuisance or spurious covariates. All the covariates are correlated with a designated correlation matrix and generated by a modified version of the BinNor package in R. The correlation structure for generating covariates and treatments is depted below.
 
![alt text](https://github.com/ashkanfa/Generate.adaptive.data/blob/master/Causal_relation.PNG)


 The probability of each binary treatment is calculated by linear association with some selection of 𝑋𝑂𝑇, 𝑋𝑇, the past treatments and the previous outcome by Eq
